<!DOCTYPE html>
<html>
<script src="../src/leaflet-search.css" type="text/css" rel="stylesheet"></script>
<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
<!-- <script src="mapdata.geojson" type="text/javascript"></script> -->
<script src="https://unpkg.com/leaflet@1.3.0/dist/leaflet.js"></script>

<script src="../src/leaflet-search.js" type="text/javascript"></script>

<style type="text/css">
    #map {
        height: 500px;
        width: 1000px;
    }
</style>

<head>
    <title>Padrones UABID</title>
</head>

<body>
    <div id="logout" style="position:absolute; right: 20px">
        <form action="/logout?_method=DELETE" method="POST">
            <button type="submit">Cerrar sesi√≥n</button>
        </form>
    </div>

    <div id="map">
        <script type="text/javascript">

            var map = L.map('map').setView([-34.83, -56.21], 11);

            var capa_base = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
            });
            capa_base.addTo(map);

            var capa_padrones = L.tileLayer.wms('http://geoserver.montevideo.gub.uy/geoserver/ide/wms', {
                layers: 'ide:v_sb_bienes_depto',
                format: 'image/png',
                transparent: true,
                version: '1.1.0',
                attribution: false
            });
            capa_padrones.addTo(map);

            var capa_padrones_wfs = L.tileLayer('http://geoserver.montevideo.gub.uy/geoserver/ide/wfs', {
                layers: 'ide:v_sb_bienes_depto',
                format: 'image/png',
                transparent: true,
                version: '1.1.0',
                attribution: false
            });

            map.addControl(new L.Control.Search({
                layer: capa_padrones_wfs,
                propertyName: 'padron',
                textPlaceholder: 'Busqueda de padrones',
                collapsed:false,
                moveToLocation: function (latlng, title, map) { console.log(latlng); map.setView(latlng, 16); }
            }));

        </script>
    </div>
</body>

</html>